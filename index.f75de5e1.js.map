{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["'use strict';\n\nfunction rowToObj(row) {\n  const cells = row.querySelectorAll('td');\n\n  return {\n    name: cells[0]?.textContent.trim() || null,\n    position: cells[1]?.textContent.trim() || null,\n    office: cells[2]?.textContent.trim() || null,\n    age: Number(cells[3]?.textContent.trim()) || null,\n    salary: parseFloat(cells[4]?.textContent.replace(/[$,]/g, '')) || null,\n  };\n}\n\nfunction sortTableArr(a, b, col, direction) {\n  if (a[col] < b[col]) {\n    return direction === 'asc' ? -1 : 1;\n  }\n\n  if (a[col] > b[col]) {\n    return direction === 'asc' ? 1 : -1;\n  }\n\n  return 0;\n}\n\nfunction sortTable(element) {\n  if (element.tagName === 'TH') {\n    const col = element.textContent.toLowerCase();\n    const tbody = document.querySelector('tbody');\n    const arr = [...tbody.querySelectorAll('tr')].map((row) => rowToObj(row));\n\n    const currentDirection =\n      element.getAttribute('data-sort-direction') || 'desc';\n\n    const newDirection = currentDirection === 'asc' ? 'desc' : 'asc';\n\n    const lastSortedColumn = document.querySelector('[data-sort-direction]');\n\n    if (lastSortedColumn && lastSortedColumn !== element) {\n      lastSortedColumn.removeAttribute('data-sort-direction');\n    }\n\n    element.setAttribute('data-sort-direction', newDirection);\n\n    arr.sort((a, b) => sortTableArr(a, b, col, newDirection));\n\n    tbody.innerHTML = '';\n\n    arr.forEach((obj) => {\n      const newRow = document.createElement('tr');\n\n      Object.values(obj).forEach((data, index) => {\n        const cell = document.createElement('td');\n\n        cell.textContent =\n          index === 4 && typeof data === 'number'\n            ? `$${data.toLocaleString('en-US')}`\n            : data;\n        newRow.appendChild(cell);\n      });\n\n      tbody.appendChild(newRow);\n    });\n  }\n}\n\nfunction setActiveRow(cell) {\n  const oldTarget = document.querySelector('.active');\n\n  if (oldTarget) {\n    oldTarget.classList.remove('active');\n  }\n\n  cell.parentElement.classList.add('active');\n}\n\nfunction createForm() {\n  const form = document.createElement('form');\n\n  form.classList.add('new-employee-form');\n\n  function createLabeledInput(inputName, inputType) {\n    const label = document.createElement('label');\n    const input = document.createElement('input');\n\n    input.name = inputName;\n    input.type = inputType;\n    input.setAttribute('data-qa', inputName);\n    label.textContent = inputName[0].toUpperCase() + inputName.slice(1) + ':';\n    label.appendChild(input);\n\n    return label;\n  }\n\n  const labelName = createLabeledInput('name', 'text');\n\n  form.appendChild(labelName);\n\n  const labelPosition = createLabeledInput('position', 'text');\n\n  form.appendChild(labelPosition);\n\n  const labelOffice = document.createElement('label');\n\n  labelOffice.textContent = 'Office:';\n\n  const selectOffice = document.createElement('select');\n\n  selectOffice.name = 'office';\n  selectOffice.setAttribute('data-qa', 'office');\n\n  const options = [\n    { value: 'Tokyo', text: 'Tokyo' },\n    { value: 'Singapore', text: 'Singapore' },\n    { value: 'London', text: 'London' },\n    { value: 'New York', text: 'New York' },\n    { value: 'Edinburgh', text: 'Edinburgh' },\n    { value: 'San Francisco', text: 'San Francisco' },\n  ];\n\n  options.forEach((option) => {\n    const optionElement = document.createElement('option');\n\n    optionElement.value = option.value;\n    optionElement.textContent = option.text;\n    selectOffice.appendChild(optionElement);\n  });\n\n  labelOffice.appendChild(selectOffice);\n  form.appendChild(labelOffice);\n\n  const labelAge = createLabeledInput('age', 'number');\n\n  form.appendChild(labelAge);\n\n  const labelSalary = createLabeledInput('salary', 'number');\n\n  form.appendChild(labelSalary);\n\n  const submitButton = document.createElement('button');\n\n  submitButton.type = 'submit';\n  submitButton.textContent = 'Save to table';\n  form.appendChild(submitButton);\n\n  document.body.appendChild(form);\n\n  form.addEventListener('submit', (ev) => {\n    ev.preventDefault();\n\n    const userName = form.elements['name'].value.trim();\n    const position = form.elements['position'].value.trim();\n    const office = form.elements['office'].value.trim();\n    const age = parseInt(form.elements['age'].value, 10);\n    const salary = parseFloat(form.elements['salary'].value);\n\n    function pushNotify(text, type = 'success') {\n      const notify = document.createElement('div');\n      const notifyTitle = document.createElement('h2');\n      const notifyText = document.createElement('p');\n\n      notify.appendChild(notifyTitle);\n      notify.appendChild(notifyText);\n      notify.classList = `notification ${type}`;\n      notifyTitle.classList.add('title');\n      notify.setAttribute('data-qa', 'notification');\n\n      notifyTitle.textContent = type[0].toUpperCase() + type.slice(1) + '!';\n      notifyText.textContent = text;\n\n      document.body.appendChild(notify);\n\n      window.setTimeout(() => notify.remove(), 2000);\n    }\n\n    if (!userName || !position || !office || isNaN(age) || isNaN(salary)) {\n      pushNotify('All fields are required and must be valid.', 'error');\n\n      return;\n    }\n\n    if (userName.length < 4) {\n      pushNotify('Name is too short. Min length is 4.', 'error');\n\n      return;\n    }\n\n    if (age < 18 || age > 90) {\n      pushNotify('Age can`t be < 18 or > 90', 'error');\n\n      return;\n    }\n\n    const tbody = document.querySelector('tbody');\n    const newRow = document.createElement('tr');\n\n    [\n      userName,\n      position,\n      office,\n      age,\n      `$${salary.toLocaleString('en-US')}`,\n    ].forEach((text) => {\n      const cell = document.createElement('td');\n\n      cell.textContent = text;\n      newRow.appendChild(cell);\n    });\n\n    tbody.appendChild(newRow);\n\n    form.reset();\n\n    pushNotify('Success');\n  });\n}\n\ndocument.addEventListener('click', (ev) => {\n  if (ev.target.tagName === 'TH') {\n    sortTable(ev.target);\n  } else if (ev.target.tagName === 'TD') {\n    setActiveRow(ev.target);\n  }\n});\n\ncreateForm();\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}